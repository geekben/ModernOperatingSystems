##1.4 操作系统动物园
操作系统已经有半个多世纪的历史了。在这一段岁月里，有许多种操作系统被开发出来，并不是每一种都广为人知。这一章，我们将简要的介绍其中的9种。后面的章节中我们还将会详细的讨论他们中的几种。

###1.4.1 大型主机操作系统
在最顶端的是大型主机操作系统，那些屋子大小的计算机至今还能在一些大公司的数据中心找到。这些计算机和个人电脑主要的区别就是IO能力。一台大型主机拥有1000块磁盘，存储了数百万G数据并不是罕见的事；如果一台个人电脑也有这种配置，那会被朋友们嫉妒死。大型机也正在某些领域卷土重来，比如网站服务器，大型电商服务器，B2B交易服务器。

针对大型机的操作系统设计上特别倾向于同时处理多任务，这些任务大多需要惊人的IO吞吐量。他们通常提供三种服务：批处理，事务处理和分时复用服务。批处理是指处理一系列流程任务而不需要人参与的系统。保险公司的索赔流程和供应链的销售报告通常是按批处理模式进行的。事务处理系统处理大量的小的请求事件，比如，银行的支票处理或机票预订。每个独立的请求都很小，但是系统必须在每秒钟处理几百个甚至几千个这样的请求。分时复用系统允许很多远程用户在一台机器上同时运行他们的任务，比如查询数据库。这些功能都是紧密联系的，大型机操作系统通常同时扮演三种角色。大型机操作系统的一个例子是OS/390，OS/360的升级版。然后，大型机操作系统逐渐被UNIX变种比如Linux所代替。

###1.4.2 服务器操作系统
往下一级是服务器操作系统。他们跑在服务器上，服务器可以是大型个人计算机，工作站，抑或是大型机。他们通过网络为多个用户提供服务，使用户们可以共享软硬件资源。服务器可以提供打印服务，文件服务，或者网页服务。互联网基础设施提供商运行了很多服务器主机，他们的客户们用这些服务器运行网站，处理请求。典型的服务器操作系统有Solaris，FreeBSD，Linux和Windows Server 201x。

###1.4.3 多处理器操作系统
为获取主流的计算性能，越来越普遍的做法是将多个CPU连接到一个系统中。根据其连接方式的细微不同，共享资源的不同，这些系统被称作并行计算机，多计算机，抑或多处理器系统。他们需要有特殊的操作系统，但是通常都是服务器操作系统的变种，同时也有自己的特性，比如通讯，互联和一致性。

借着近来个人电脑多核芯片的发展，即使传统的桌面电脑和笔记本电脑系统也开始必须支持小规模的多处理器能力。同时，核心的数目也在不停的增长。幸运的是，由于在多处理器操作系统已经有多年积累，所以将这些知识运用于多核心系统并不是非常困难。困难的部分是让应用程序将这些计算能力用起来。许多流行的操作系统，比如Windows和Linux都可以运行在多处理器系统上。

###1.4.4 个人电脑操作系统
接着来说个人电脑操作系统。现代的PC操作系统都支持多程序，通常在系统启动过程中就启动了很多程序。他们的工作是为单个用户提供良好的支持。他们广泛的用于文字处理，电子表格，游戏和因特网访问。常见的例子是Linux，FreeBSD，Windows7/8和苹果的OS X。个人电脑操作系统被如此熟知，基本上不需要过多介绍。事实上，许多人几乎不知道有其他操作系统的存在。

###1.4.5 手持计算机操作系统
继续深入到更小的系统，我们来到了平板，智能手机，和其他手持计算机。手持计算机，过去称之为PDA（Personal Digital Assitant），是一种很小的计算机，可以在手持状态下操作。智能手机和平板电脑是最熟知的例子。向我们看到的那样，这个市场目前被谷歌的安卓和苹果的iOS统治着，但还是有很多竞争者。大多数这种设备号称有多核CPU，GPS，相机和其他传感器，丰富的内存容量，和尖端的操作系统。不仅如此，他们都具备大量的第三方应用程序（app），而你却不能插USB存储卡到这些设备上。

###1.4.6 嵌入式操作系统
嵌入式操作系统跑在那些通常不被认为是计算机的系统上，用于控制设备，同时他们不接受用户安装的软件。典型的例子是微波炉，电视盒子，汽车，DVD录放机，传统手机，MP3播放器。嵌入式操作系统区别于手持设备操作系统的主要特征是，不会运行不被信任的软件。你不能往你的微波炉里下载新应用——所有的软件都在ROM里。这意味着不需要应用之间的隔离保护，这使得设计更为简单。嵌入式Linux，QNX和VxWorks在这个领域非常流行。

###1.4.7 传感器节点操作系统
微型的传感器节点网络有很多用途。这些节点是互相通信的微型计算机，他们有个公共的基站，通过无线通信与之联系。传感器网络用于建筑周围的安防，国境线保卫，森林火险探测，为天气预报积累数据，收集战场上敌方动向，等等。

这些传感器是小型的电池驱动的计算机，内置了无线电设备。他们收到电能限制，并且需要在户外工作很长时间，往往还是在恶劣环境下。传感器网络必须要足够鲁棒以应对单个节点失效的情况，这种情况会在电池开始耗尽的时候急剧增加。

每个传感器节点都是一个真正的计算机，他们有CPU，RAM，ROM，还有一个或多个环境传感器。他们运行着一个麻雀虽小五脏俱全的操作系统，通常是个事件驱动型的操作系统，对外部事件进行相应，或者基于外部时钟的频率进行测量。这个操作系统不得不做的很精简，因为节点的RAM很小而且电池寿命是个大问题。和嵌入式系统一样，所有的程序都是预装的；用户不会突然从网上下载一段程序装入这个系统，这大大简化了设计。TinyOS是常见的传感器节点操作系统。

###1.4.8 实时操作系统
另外一种操作系统是实时操作系统。这种操作系统的特点是，他们把时间作为一个关键参数。比如，在工业流程控制系统中，实时计算机需要手机产品流程的数据，用于控制工厂里的机器。通常都有硬性的时间期限要求。比如，一辆汽车正在装配线上移动，规定的动作必须要在规定的时间内发生。例如一个焊接机器人早一些或迟一点进行焊接，这辆车就毁了。如果一个动作绝对必须发生在某个规定的时间点上（或者在一个规定的时间范围内），这就是一个硬实时系统。这样的系统经常出现在工业流程控制，航空电子设备，军事，以及相关的应用领域。这种系统必须绝对保证规定的动作发生在规定的时间点。

软实时系统是一个可以接受偶然非实时性的系统，虽然这种偶然的非实时性不能令人满意，但也是可以接受的，不会造成永久性的损失。数字音频或者多媒体系统就属于这个范畴。智能手机也是软实时系统。

考虑到满足时效性在（硬）实时系统中是个刚需，有些时候操作系统就只能是一个简单的链接在应用程序上的代码库了，所有的部件都是强耦合在一起，各部分之间没有任何保护隔离措施。现成的例子是eCos。

手持系统，嵌入式系统，实时系统在很大程度上互相交叠。他们几乎都有软实时性。嵌入式系统和实时系统都只能跑设计者预装的软件；用户不能装软件，这一点使得安全性相对容易保障。手持设备和嵌入式设备是针对消费者的，而实时系统更加偏重于工业应用。尽管如此，他们还是有很多共同点。

###1.4.9 智能卡操作系统
最小的操作系统跑在智能卡上，这种卡是一个信用卡大小的拥有CPU的设备。他们对运行时的功耗和内存限制及其苛刻。他们中有的是由他们插入的读取设备来供电的，但非接触式的智能卡是靠感应供电的，这大大限制了他们的能力。有的只能处理一个单一的功能，比如电子支付，另一些可以处理多种事务。这些系统通常都只为个人服务。

某些智能卡是只支持Java程序的。他们的ROM里面有Java的解释器JVM。Java小程序被下载到卡上，然后被JVM解释运行。其中一些卡可以同时运行多个Java小程序，这样就要求操作系统支持多进程和对他们的调度。资源管理和保护同样因为同时存在的多个进程而成为不得不考虑的问题。这些问题都必须由一个卡上的操作系统（通常非常原始）来处理。
